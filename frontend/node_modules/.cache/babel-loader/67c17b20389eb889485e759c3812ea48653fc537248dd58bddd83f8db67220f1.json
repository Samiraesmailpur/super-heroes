{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// const { REACT_APP_BACKEND_URL_DEVELOPMENT, REACT_APP_BACKEND_URL_PRODUCTION } =\n//   process.env;\n\nexport const instance = axios.create({\n  baseURL: \"http://localhost:5050\"\n  // process.env[\"NODE_ENV\"] === \"development\"\n  //   ? REACT_APP_BACKEND_URL_DEVELOPMENT\n  //   : REACT_APP_BACKEND_URL_PRODUCTION,\n});\n\nexport const getHeroes = createAsyncThunk(\"heroes/getHeroes\", async (page, thunkAPI) => {\n  try {\n    const res = await instance.get(`/api/heroes?page=${page}`);\n    return res.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const getHeroById = createAsyncThunk(\"heroes/getHeroById\", async (id, thunkAPI) => {\n  try {\n    const res = await instance.get(`/api/heroes/${id}`);\n    return res.data;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response.data.message);\n  }\n});\nexport const removeHeroById = createAsyncThunk(\"heroes/removeHeroById\", async (id, thunkAPI) => {\n  try {\n    const res = await instance.delete(`/api/heroes/${id}`);\n    return res.data;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response.data.message);\n  }\n});\nexport const updateHero = createAsyncThunk(\"heroes/updateHero\", async (id, formData, thunkAPI) => {\n  try {\n    console.log(\"Updating hero with id:\", id);\n    console.log(\"New data:\", data);\n    const resp = await instance.patch(`/api/heroes/${id}`, data);\n    return resp.data;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response.data.message);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","instance","create","baseURL","getHeroes","page","thunkAPI","res","get","data","error","rejectWithValue","message","getHeroById","id","err","response","removeHeroById","delete","updateHero","formData","console","log","resp","patch"],"sources":["/Users/samiraesmailpur/Documents/GitHub/Superheroes/frontend/src/redux/heroes/operations.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// const { REACT_APP_BACKEND_URL_DEVELOPMENT, REACT_APP_BACKEND_URL_PRODUCTION } =\n//   process.env;\n\nexport const instance = axios.create({\n  baseURL: \"http://localhost:5050\",\n  // process.env[\"NODE_ENV\"] === \"development\"\n  //   ? REACT_APP_BACKEND_URL_DEVELOPMENT\n  //   : REACT_APP_BACKEND_URL_PRODUCTION,\n});\n\nexport const getHeroes = createAsyncThunk(\n  \"heroes/getHeroes\",\n  async (page, thunkAPI) => {\n    try {\n      const res = await instance.get(`/api/heroes?page=${page}`);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const getHeroById = createAsyncThunk(\n  \"heroes/getHeroById\",\n  async (id, thunkAPI) => {\n    try {\n      const res = await instance.get(`/api/heroes/${id}`);\n      return res.data;\n    } catch (err) {\n      return thunkAPI.rejectWithValue(err.response.data.message);\n    }\n  }\n);\n\nexport const removeHeroById = createAsyncThunk(\n  \"heroes/removeHeroById\",\n  async (id, thunkAPI) => {\n    try {\n      const res = await instance.delete(`/api/heroes/${id}`);\n      return res.data;\n    } catch (err) {\n      return thunkAPI.rejectWithValue(err.response.data.message);\n    }\n  }\n);\n\nexport const updateHero = createAsyncThunk(\n  \"heroes/updateHero\",\n  async (id, formData, thunkAPI) => {\n    try {\n      console.log(\"Updating hero with id:\", id);\n      console.log(\"New data:\", data);\n      const resp = await instance.patch(`/api/heroes/${id}`, data);\n      return resp.data;\n    } catch (err) {\n      return thunkAPI.rejectWithValue(err.response.data.message);\n    }\n  }\n);\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA;;AAEA,OAAO,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;EACnCC,OAAO,EAAE;EACT;EACA;EACA;AACF,CAAC,CAAC;;AAEF,OAAO,MAAMC,SAAS,GAAGL,gBAAgB,CACvC,kBAAkB,EAClB,OAAOM,IAAI,EAAEC,QAAQ,KAAK;EACxB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACO,GAAG,CAAE,oBAAmBH,IAAK,EAAC,CAAC;IAC1D,OAAOE,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOJ,QAAQ,CAACK,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGd,gBAAgB,CACzC,oBAAoB,EACpB,OAAOe,EAAE,EAAER,QAAQ,KAAK;EACtB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACO,GAAG,CAAE,eAAcM,EAAG,EAAC,CAAC;IACnD,OAAOP,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZ,OAAOT,QAAQ,CAACK,eAAe,CAACI,GAAG,CAACC,QAAQ,CAACP,IAAI,CAACG,OAAO,CAAC;EAC5D;AACF,CACF,CAAC;AAED,OAAO,MAAMK,cAAc,GAAGlB,gBAAgB,CAC5C,uBAAuB,EACvB,OAAOe,EAAE,EAAER,QAAQ,KAAK;EACtB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACiB,MAAM,CAAE,eAAcJ,EAAG,EAAC,CAAC;IACtD,OAAOP,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZ,OAAOT,QAAQ,CAACK,eAAe,CAACI,GAAG,CAACC,QAAQ,CAACP,IAAI,CAACG,OAAO,CAAC;EAC5D;AACF,CACF,CAAC;AAED,OAAO,MAAMO,UAAU,GAAGpB,gBAAgB,CACxC,mBAAmB,EACnB,OAAOe,EAAE,EAAEM,QAAQ,EAAEd,QAAQ,KAAK;EAChC,IAAI;IACFe,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAER,EAAE,CAAC;IACzCO,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEb,IAAI,CAAC;IAC9B,MAAMc,IAAI,GAAG,MAAMtB,QAAQ,CAACuB,KAAK,CAAE,eAAcV,EAAG,EAAC,EAAEL,IAAI,CAAC;IAC5D,OAAOc,IAAI,CAACd,IAAI;EAClB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZ,OAAOT,QAAQ,CAACK,eAAe,CAACI,GAAG,CAACC,QAAQ,CAACP,IAAI,CAACG,OAAO,CAAC;EAC5D;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}